<div class="h-100 w-100" style="position: relative">
    <!-- Barra de búsqueda y subida de archivos -->
    <div class="flex justify-between">
        <div class="w-70 flex">
            <h2>Papelera</h2>
            <app-searchbar class="w-100 ml4" (filterToEmit)="getFilter($event)" (searchToEmit)="getSearch($event)"></app-searchbar>
        </div>

        <button class="w-25 btn btn-primary navbar-bg" (click)="deletedAllFile()">Vaciar Papelera</button>
    </div>

    <table class="table table-hover" id="itemsTable">
            <thead>
              <tr>
                <th scope="col" class="align-middle" id="nameColumn" (click)="changeOrder($event)">Nombre</th>
                <th scope="col" class="align-middle" id="createDateColumn" (click)="changeOrder($event)">Fecha de creación</th>
                <th scope="col" class="align-middle" id="updateDateColumn" (click)="changeOrder($event)">Fecha de modificación</th>
                <th style="width: 70px;"></th>
                <th style="width: 70px;"></th>
                <th style="width: 70px;"></th>
              </tr>
            </thead>
            <tbody>
                <tr *ngFor="let dat of dataFiltered; let i = index" id="file{{dat.id}}" class="pl2"
                (click)="itemPressed(dat); fileSelected('file' + dat.id)"
                (mouseover)="hideAndSeekService.showPapperBinButton(dat.id); hideAndSeekService.showRecoverButton(dat.id); hideAndSeekService.showDownloadButton(dat.id)"
                (mouseout)="hideAndSeekService.hidePapperBinButton(dat.id); hideAndSeekService.hideRecoverButton(dat.id); hideAndSeekService.hideDownloadButton(dat.id)">
                    <td id="fileName"> {{ dat.name }}</td>
                    <td id="fileCreateDate"> {{ dat.createDate | date: 'dd/MM/yyyy' }}</td>
                    <td id="fileUpdateDate"> {{ dat.updateDate | date: 'dd/MM/yyyy' }}</td>
                    <td id="fileDownload">
                        <button id="downloadButton-{{dat.id}}" class="file-button ml2 mr2" (click)="downloadFile(dat)">
                            <img src="../../../assets/icons/download.svg" width="24">
                        </button>
                    </td>
                    <td id="fileRecover">
                        <button id="recoverButton-{{dat.id}}" class="file-button ml2 mr2" (click)="move2Home(dat)">
                            <img src="../../../assets/icons/share-black.svg" width="24">
                        </button>
                    </td>
                    <td id="fileDelete">
                        <button id="papperBinButton-{{dat.id}}" class="file-button ml2 mr2" (click)="deletedFile(dat.id)">
                            <img src="../../../assets/icons/bin-black.svg" width="24">
                        </button>
                    </td>
                    
                <tr>
            </tbody>
          </table>

         <div id="dataEditionPanel" class="w-25 flex flex-column justify-between" style="margin-top: 2em; float: left; display: none;">
            <div id="dataEditionPanelContent">
                <div id="dataEditionPanelTitle"><strong id="dataEditionPanelTitleStrong">Archivo seleccionado</strong></div>
                <div id="dataEditionPanelLineBreaker" class="line-breaker mb3"></div>

                <div class="w-100 mb3">
                    <label id="dataEditionPanelNameTag" for="itemName" class="w-100">Nombre</label>
                    <input id="dataEditionPanelNameInput" #nameInput name="itemName" class="w-100 form-control custom-input-container" [value]="itemSelected.name" />
                </div>
                <div class="w-100 mb2">
                    <label id="dataEditionPanelDescriptionTag" for="itemDescription" class="w-100">Descripción</label>
                    <textarea id="dataEditionPanelDescriptionTextarea" #textarea name="itemDescription" class="w-100 form-control custom-input-container" rows='5'>{{itemSelected.description}}</textarea>
                </div>
                <div class="w-100 mb2">
                    <div id="dataEditionPanelMetadataTag">Metadatos</div>
                    <div class="flex flex-wrap">
                        <div *ngFor="let item of tempMetadata; let id = index" class="custom-input-container ma1">
                            <input [value]="item.key" type="text" onkeypress="this.style.width = ((this.value.length + 1) * 8) + 'px';" (keyup)="updateMetadataKey($event, id)" class="metadataInput"> :
                            <input [value]="item.value" type="text" onkeypress="this.style.width = ((this.value.length + 1) * 8) + 'px';" (keyup)="updateMetadataValue($event, id)" class="metadataInput">
                        </div>
                    </div>
                </div>
            </div>
        </div>    
    <div id="fileMove2Home" class="alert alert-danger w-100" role="alert" style="display: none; position: absolute; bottom: 0" (click)="hideAndSeekService.closeMessagefileMove2Bin()">
        <!-- Faltaría colocar bonito el botón con un buen estilo-->
        Movido Fichero al Inicio.
    </div>
    <div id="fileDeletedFile" class="alert alert-danger w-100" role="alert" style="display: none; position: absolute; bottom: 0" (click)="hideAndSeekService.closeMessagefileMove2Bin()">
        <!-- Faltaría colocar bonito el botón con un buen estilo-->
        Borrado documento permanentemente. No podrás recuperarlo.
    </div>

</div>